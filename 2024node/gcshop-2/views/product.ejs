<div class="container">
    <h2>상품 목록</h2>
    <table class="table table-bordered" style="text-align: center;">
        <thead class="table-primary">
        <tr>
            <th>상품 이미지</th>
            <th>상품명</th>
            <th>가격</th>
            <th>브랜드</th>
            <% if (login && (cls === 'MNG' || cls === 'ADMIN')) { %> <!-- 관리자나 매니저만 표시 -->
            <th>수정</th>
            <th>삭제</th>
            <% } %>
        </tr>
        </thead>
        <tbody>
        <% if (products && products.length > 0) { %>
            <% products.forEach(product => { %>
                <tr>
                    <td>
                        <a href="#"><img src="<%= product.image %>" onerror="this.src='/image/no-image.png'" style="width:100px; height:100px;" /></a>
                    </td>
                    <td><%= product.name %></td>
                    <td><%= product.price %> 원</td>
                    <td><%= product.brand %></td>
                    <% if (login && (cls === 'MNG' || cls === 'ADMIN')) { %>
                        <td><a href="/product/update/<%= product.mer_id %>" class="btn btn-outline-primary btn-sm">수정</a></td>
                        <td><a href="/product/delete/<%= product.mer_id %>" class="btn btn-outline-danger btn-sm" onclick="return confirm('정말로 삭제하시겠습니까?')">삭제</a></td>
                    <% } %>
                </tr>
            <% }) %>
        <% } else { %>
            <tr>
                <td colspan="<%= login && (cls === 'MNG' || cls === 'ADMIN') ? '7' : '5' %>">상품이 없습니다.</td>
            </tr>
        <% } %>
        </tbody>
    </table>

    <% if (login && (cls === 'MNG' || cls === 'ADMIN')) { %>
        <a href="/product/create"><button class="btn btn-outline-secondary btn-sm" type="button">상품 추가</button></a>
    <% } %>
</div>