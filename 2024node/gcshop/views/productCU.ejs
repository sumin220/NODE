<div class="container">
    <script>
        function displayFileName() {
            var fileName = $("#file").val();
            $(".upload-name").val(fileName);
        }
    </script>

    <h2>상품 입력</h2>
    <form action="<%= action %>" method="post" enctype="multipart/form-data" accept-charset="UTF-8">

        <div class="mb-3">
            <label class="form-label" for="id_main">카테고리</label>
            <select name="category" id="id_main" class="form-control" style="width:300px;">
                <% if (categorys && categorys.length > 0) { %>
                    <% categorys.forEach(category => { %>
                        <option value="<%= category.main_id + category.sub_id %>">
                            <%= category.main_name %> : <%= category.sub_name %>
                        </option>
                    <% }) %>
                <% } else { %>
                    <option value="">카테고리가 없습니다</option>
                <% } %>
            </select>
        </div>

        <table>
            <tr>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="name">제품명</label>
                        <input class="form-control" type="text" name="name" style="width:300px;" />
                    </div>
                </td>
                <td width="30px"></td>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="price">가격</label>
                        <input class="form-control" type="text" name="price" style="width:300px;" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="stock">재고</label>
                        <input class="form-control" type="text" name="stock" style="width:300px;" />
                    </div>
                </td>
                <td width="30px"></td>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="brand">브랜드</label>
                        <input class="form-control" type="text" name="brand" style="width:300px;" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="supplier">공급자</label>
                        <input class="form-control" type="text" name="supplier" style="width:300px;" />
                    </div>
                </td>
                <td width="30px"></td>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="sale_yn">할인여부</label>
                        <input class="form-control" type="text" name="sale_yn" style="width:300px;" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="mb-3">
                        <label class="form-label" for="sale_price">할인가격</label>
                        <input class="form-control" type="text" name="sale_price" style="width:300px;" />
                    </div>
                </td>
                <td width="30px"></td>
                <td></td>
            </tr>
        </table>

        <div class="mb-3">
            <input class="upload-name form-control" value="" placeholder="이미지파일" style="width:300px; display: inline-block;">
            <input type="file" id="file" name="uploadFile" onchange="displayFileName()" style="display: inline-block;">
        </div>

        <div class="mb-3">
            <button class="btn btn-outline-primary btn-sm" type="submit">입력</button>
            <a href="/product/view" class="btn btn-outline-primary btn-sm" role="button">제품목록 돌아가기</a>
        </div>
    </form>
</div>